import 'package:flutter/widgets.dart';
import 'package:flutter_svg/svg.dart';

final lyricsFileSvg = '''
    <svg width="55" height="74" viewBox="0 0 55 74" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M0 15.143V68.9419L0.722202 70.2986C1.61792 71.9816 3.09113 73.2554 4.67991 73.7209C5.51178 73.965 12.9368 74.0449 28.3185 73.9765L50.744 73.8765L52.0536 72.9761C52.7738 72.481 53.7314 71.5296 54.1815 70.8621L55 69.6482V4.41451L54.1815 3.20059C53.7314 2.5331 52.7738 1.58171 52.0536 1.0866L50.744 0.1862L15.1103 0L0 15.143ZM49.1769 4.64381C49.719 4.83362 50.3302 5.35867 50.5352 5.81068C51.0734 6.99762 51.0649 67.0835 50.5263 68.2714C50.2851 68.804 49.7148 69.238 48.9713 69.4551C48.1951 69.6821 40.6653 69.7647 26.7343 69.6989L5.67122 69.5998L5.04527 68.8231C4.44223 68.0747 4.41964 67.1904 4.41964 44.3968V20.7471L9.4122 20.7451C15.0674 20.7432 16.3949 20.4797 18.0341 19.0332C20.2073 17.1159 20.4613 16.1832 20.4613 10.1235C20.4613 7.16079 20.5595 4.63821 20.6797 4.51781C21.0532 4.14245 48.0867 4.26187 49.1769 4.64381ZM15.6072 15.1453C15.0012 15.9618 14.9017 15.9786 10.1141 16.0668L5.23809 16.1563L16.0417 5.27609L16.1333 9.79489C16.2142 13.7969 16.1543 14.4088 15.6072 15.1453Z" fill="#CCCACA"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M39.7657 20.9754C40.0431 21.2665 40.1448 23.9408 40.1448 30.9385C40.1448 41.6777 40.0684 42.1117 38.019 43.0102C36.5381 43.6593 35.0812 43.3593 33.8483 42.1505C32.9962 41.3153 32.8786 40.9824 32.8846 39.4258C32.8957 36.665 34.1084 35.4973 36.9644 35.4973H38.565V31.7398C38.565 29.6729 38.4898 27.9031 38.3976 27.8067C38.25 27.6518 32.0714 28.6869 28.6122 29.4462L27.3483 29.7237L27.0324 43.7724L26.184 44.6619C25.5319 45.3456 24.9435 45.5856 23.6418 45.6987C22.1545 45.8283 21.825 45.7378 20.9412 44.9573C20.3877 44.4686 19.7706 43.4939 19.57 42.7913C19.2565 41.6936 19.2913 41.3398 19.817 40.2765C20.8006 38.2879 23.3628 37.2422 24.9995 38.1613C25.5951 38.4958 25.6105 38.3194 25.6105 31.2226C25.6105 25.3612 25.6984 23.8483 26.0608 23.468C26.4845 23.0234 30.0034 22.1322 35.4054 21.1014C38.481 20.5146 39.3037 20.4907 39.7657 20.9754ZM40.3982 49.2963C40.4662 49.7953 40.2832 50.0582 39.7663 50.2034C39.3663 50.3158 33.77 50.41 27.3297 50.4123C15.0264 50.4173 14.1566 50.3182 14.6498 48.9691C14.833 48.4688 15.9768 48.4277 27.5768 48.5069C40.2715 48.5931 40.3031 48.5951 40.3982 49.2963ZM39.0108 53.9456C40.287 54.129 40.4798 54.256 40.3979 54.8574C40.3035 55.552 40.2362 55.5566 28.1382 55.6481C21.4477 55.6989 15.6444 55.6564 15.2419 55.5536C14.118 55.2665 14.494 54.2712 15.8192 54.0249C17.3153 53.7464 37.1561 53.6787 39.0108 53.9456ZM40.3546 59.8883C40.8074 61.1267 40.161 61.1923 27.5063 61.1923C14.8517 61.1923 14.2052 61.1267 14.658 59.8883C14.8261 59.4285 16.3045 59.3688 27.5063 59.3688C38.7082 59.3688 40.1865 59.4285 40.3546 59.8883Z" fill="#CCCACA"/>
</svg>
''';

class LyricsFileSvg extends StatelessWidget {
  final double svgWidth;
  final double svgHeight;
  final double viewBoxWidth;
  final double viewBoxHeight;
  final Color color;

  const LyricsFileSvg({
    super.key,
    this.svgWidth = 55,
    this.svgHeight = 74,
    this.viewBoxWidth = 55,
    this.viewBoxHeight = 74,
    this.color = const Color(0xFFCDCDCD),
  });

  @override
  Widget build(BuildContext context) {
    final rawSvg = lyricsFileSvg;

    String svg = rawSvg
        .replaceAll(RegExp(r'width="[^"]*"'), 'width="$svgWidth"')
        .replaceAll(RegExp(r'height="[^"]*"'), 'height="$svgHeight"')
        .replaceAll(
          RegExp(r'viewBox="[^"]*"'),
          'viewBox="0 0 $viewBoxWidth $viewBoxHeight"',
        );

    svg = svg.replaceAll(
      RegExp(r'fill="[^"]*"'),
      'fill="${_colorToHex(color)}"',
    );

    return SvgPicture.string(
      svg,
      width: svgWidth,
      height: svgHeight,
      fit: BoxFit.cover,
    );
  }

  String _colorToHex(Color color) {
    return '#${color.value.toRadixString(16).padLeft(8, '0').substring(2)}';
  }
}
