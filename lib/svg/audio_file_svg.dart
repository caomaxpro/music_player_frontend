import 'package:flutter/widgets.dart';
import 'package:flutter_svg/svg.dart';

final audioFileSvg =
    '''<svg width="20" height="26" viewBox="0 0 20 26" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M2.74726 2.6602L0 5.32052V14.7716V24.2228L0.262619 24.6995C0.588333 25.2908 1.12405 25.7384 1.70179 25.9019C2.00429 25.9877 4.70429 26.0158 10.2976 25.9917L18.4524 25.9566L18.9286 25.6403C19.1905 25.4663 19.5387 25.132 19.7024 24.8975L20 24.471V13.011V1.55104L19.7024 1.12453C19.5387 0.89001 19.1905 0.555736 18.9286 0.381779L18.4524 0.0654215L11.9735 0.0327107L5.49464 0L2.74726 2.6602ZM17.8825 1.63161C18.0796 1.6983 18.3019 1.88277 18.3764 2.04159C18.5721 2.45862 18.569 23.5699 18.3732 23.9873C18.2855 24.1744 18.0781 24.3269 17.8077 24.4031C17.5255 24.4829 14.7874 24.5119 9.72155 24.4888L2.06226 24.454L1.83464 24.1811C1.61536 23.9181 1.60714 23.6074 1.60714 15.5989V7.28953L3.42262 7.28883C5.47905 7.28814 5.96179 7.19556 6.55786 6.68733C7.34809 6.01369 7.44048 5.68601 7.44048 3.55692C7.44048 2.51595 7.47619 1.62964 7.51988 1.58734C7.65571 1.45545 17.4861 1.49741 17.8825 1.63161ZM5.67536 5.32133C5.455 5.60822 5.41881 5.61411 3.67786 5.64509L1.90476 5.67653L3.86905 3.7652L5.83333 1.85376L5.86667 3.44145C5.89607 4.84755 5.87429 5.06254 5.67536 5.32133ZM13.902 9.08411C13.3651 9.30326 13.2967 9.7485 13.7143 10.3063C15.0123 12.04 15.4167 13.0574 15.4167 14.5896C15.4167 16.1744 14.9881 17.3585 13.9412 18.666C13.6396 19.0426 13.3929 19.4481 13.3929 19.567C13.3929 19.8655 13.9202 20.3507 14.2445 20.3507C15.0146 20.3507 16.5523 17.8936 16.918 16.0784C17.3598 13.8867 16.7415 11.5145 15.257 9.70434C14.6636 8.98066 14.4239 8.87097 13.902 9.08411ZM8.03571 11.0461L6.42857 12.2455L5.5 12.2525C4.42702 12.2609 3.97 12.44 3.62619 12.9878C3.42714 13.3046 3.39369 13.5736 3.39369 14.8604C3.39369 16.1641 3.4256 16.4136 3.63405 16.7456C3.95429 17.2556 4.50881 17.4611 5.56512 17.4611H6.4356L8.15821 18.5053C9.5219 19.3317 9.94298 19.535 10.1786 19.4801C10.8439 19.3252 10.8305 19.4147 10.868 14.8852C10.887 12.583 10.8736 10.5859 10.8381 10.4473C10.7379 10.0565 10.4358 9.83172 10.0213 9.83958C9.72952 9.84501 9.27488 10.1213 8.03571 11.0461ZM12.0401 11.7403C11.6938 12.0764 11.7064 12.3443 12.1036 13.0903C12.4318 13.7068 12.4927 13.946 12.4961 14.6308C12.4995 15.3313 12.4444 15.5468 12.0915 16.2149C11.7355 16.8888 11.701 17.0262 11.8221 17.2847C12.0107 17.6865 12.4869 17.8542 12.897 17.6633C13.3405 17.457 13.9961 16.1657 14.0939 15.3059C14.241 14.0149 13.8257 12.4488 13.1669 11.8092C12.8742 11.5249 12.2981 11.4898 12.0401 11.7403ZM9.18179 17.1959C9.15476 17.2221 8.63202 16.9415 8.02012 16.5721C6.93119 15.9149 6.88679 15.8998 5.92405 15.8599L4.94048 15.8192V14.7907V13.7623L5.98214 13.7601L7.02381 13.7579L8.09524 12.9693L9.16667 12.1806L9.19881 14.6645C9.21643 16.0306 9.20881 17.1697 9.18179 17.1959Z" fill="#E2DFDF"/>
</svg>''';

class AudioFileSvg extends StatelessWidget {
  final double svgWidth;
  final double svgHeight;
  final double viewBoxWidth;
  final double viewBoxHeight;
  final Color color;

  const AudioFileSvg({
    super.key,
    this.svgWidth = 20,
    this.svgHeight = 26,
    this.viewBoxWidth = 20,
    this.viewBoxHeight = 26,
    this.color = const Color(0xFFCDCDCD),
  });

  @override
  Widget build(BuildContext context) {
    String svg = audioFileSvg
        .replaceAll(RegExp(r'width="[^"]*"'), 'width="$svgWidth"')
        .replaceAll(RegExp(r'height="[^"]*"'), 'height="$svgHeight"')
        .replaceAll(
          RegExp(r'viewBox="[^"]*"'),
          'viewBox="0 0 $viewBoxWidth $viewBoxHeight"',
        );

    svg = svg.replaceAll(
      RegExp(r'fill="[^"]*"'),
      'fill="${_colorToHex(color)}"',
    );

    return SvgPicture.string(
      svg,
      width: svgWidth,
      height: svgHeight,
      fit: BoxFit.cover,
    );
  }

  String _colorToHex(Color color) {
    return '#${color.value.toRadixString(16).padLeft(8, '0').substring(2)}';
  }
}
