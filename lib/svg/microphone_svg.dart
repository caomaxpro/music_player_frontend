import 'package:flutter/material.dart';
import 'package:flutter_svg/flutter_svg.dart';

final microphoneSvgString = '''
<svg width="18" height="22" viewBox="0 0 18 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12.6054 0.111764C11.9802 0.250944 11.0695 0.740171 10.6266 1.17489C10.2883 1.50687 10.2829 1.52042 10.3375 1.90062C10.4041 2.36477 10.7026 3.17066 11.0335 3.77988C12.034 5.62131 13.8163 7.14834 15.5979 7.69039C16.308 7.90641 16.498 7.86521 16.9352 7.40058C17.6532 6.63726 18.0633 5.42028 17.992 4.2637C17.8172 1.42712 15.3252 -0.493661 12.6054 0.111764ZM9.69747 2.50605C9.65458 2.56354 9.53635 2.81021 9.43473 3.05414C9.16341 3.70561 9.16121 5.02661 9.43009 5.8658C9.95006 7.48871 11.22 8.5953 12.9299 8.91535C13.5122 9.02437 13.7286 9.03082 14.2131 8.95365C14.8328 8.85495 15.5965 8.56393 15.5567 8.44152C15.5435 8.40112 15.2034 8.2234 14.8009 8.04672C13.3202 7.39655 11.9758 6.30326 11.1109 5.04588C10.6765 4.41441 9.90858 2.93173 9.9063 2.7199C9.90559 2.65982 9.87592 2.56354 9.84026 2.50605C9.78721 2.42033 9.76147 2.42033 9.69747 2.50605ZM8.03798 5.97725C7.74132 6.3431 7.11217 7.13238 6.63982 7.73111C6.16746 8.32984 5.31029 9.40619 4.73506 10.1231C4.04263 10.986 3.68999 11.49 3.69157 11.6148C3.69716 12.0597 4.57267 13.3411 5.2241 13.8579C5.68968 14.2272 6.48042 14.6659 6.68035 14.6659C6.7582 14.6659 7.43639 14.1482 8.18754 13.5155C8.93869 12.8827 10.1731 11.8496 10.9307 11.2196C11.6883 10.5896 12.4308 9.96815 12.5805 9.8384L12.8528 9.6027L12.3443 9.4403C11.0336 9.02155 10.1268 8.35798 9.45803 7.32792C9.18073 6.90079 8.84738 6.13755 8.72727 5.6547C8.68035 5.46617 8.62746 5.31199 8.60959 5.31199C8.5918 5.31199 8.33457 5.61139 8.03798 5.97725ZM9.07541 9.14799C9.14342 9.21774 9.19907 9.30007 9.19907 9.33103C9.19907 9.362 8.86226 9.731 8.45059 10.151C7.81649 10.7979 7.68118 10.901 7.56508 10.8261C7.29037 10.6489 7.37389 10.478 8.09206 9.74785C8.48507 9.34821 8.83927 9.02131 8.87918 9.02131C8.91909 9.02131 9.00733 9.07832 9.07541 9.14799ZM2.58723 12.8219C2.34913 13.1351 2.09843 13.4513 2.03019 13.5246C1.74517 13.8309 1.02354 14.8058 0.904838 15.0449C0.72805 15.4013 0.746705 15.7767 0.960094 16.1577L1.14074 16.4803L0.771027 16.9238C-0.0928407 17.96 -0.228856 18.7967 0.353222 19.4934C0.969303 20.2308 2.17777 20.451 3.34838 20.0392C3.95636 19.8253 5.11469 19.2667 5.5247 18.9896C6.5001 18.3303 7.40986 18.0527 8.5944 18.0527C9.56484 18.0527 10.2419 18.213 11.0488 18.6338C12.0257 19.1433 12.7203 19.8678 13.6414 21.338C14.0451 21.9822 14.2719 22.1149 14.6248 21.913C14.9602 21.721 14.9351 21.3437 14.5422 20.6734C13.4556 18.8196 12.285 17.7965 10.5477 17.1824C9.99021 16.9853 9.85018 16.97 8.60873 16.9703C7.36405 16.9707 7.2267 16.9859 6.64092 17.1882C6.29458 17.3078 5.49762 17.6961 4.86989 18.0512C3.66079 18.7351 2.74482 19.101 2.24192 19.101C1.83522 19.101 1.36066 18.9493 1.20064 18.7681C1.08839 18.641 1.0847 18.5858 1.17317 18.3572C1.29226 18.0494 1.77138 17.4138 1.93172 17.3507C1.99248 17.327 2.10725 17.3678 2.18682 17.4415C2.38431 17.6247 2.82896 17.6868 3.15459 17.5767C3.41568 17.4884 5.97359 15.4333 6.02476 15.2707C6.03877 15.2264 5.84962 15.0827 5.60451 14.9515C4.71892 14.4774 3.7824 13.5053 3.36664 12.6287C3.26707 12.4186 3.14837 12.2481 3.10288 12.2497C3.05738 12.2512 2.82534 12.5088 2.58723 12.8219Z" fill="#CDCDCD"/>
</svg>
''';

class MicrophoneSvg extends StatelessWidget {
  final double svgWidth;
  final double svgHeight;
  final double viewBoxWidth;
  final double viewBoxHeight;
  final Color color;

  const MicrophoneSvg({
    super.key,
    this.svgWidth = 26,
    this.svgHeight = 34,
    this.viewBoxWidth = 26,
    this.viewBoxHeight = 34,
    this.color = const Color(0xFFCDCDCD),
  });

  @override
  Widget build(BuildContext context) {
    String svg = microphoneSvgString
        .replaceAll(RegExp(r'width="[^"]*"'), 'width="$svgWidth"')
        .replaceAll(RegExp(r'height="[^"]*"'), 'height="$svgHeight"')
        .replaceAll(
          RegExp(r'viewBox="[^"]*"'),
          'viewBox="0 0 $viewBoxWidth $viewBoxHeight"',
        )
        .replaceAll(
          RegExp(r'fill="#[A-Fa-f0-9]{6,8}"'),
          'fill="${_colorToHex(color)}"',
        );

    return SvgPicture.string(
      svg,
      width: svgWidth,
      height: svgHeight,
      fit: BoxFit.cover,
    );
  }

  String _colorToHex(Color color) {
    return '#${color.value.toRadixString(16).padLeft(8, '0').substring(2)}';
  }
}
