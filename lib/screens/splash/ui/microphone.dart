import 'package:flutter/material.dart';
import 'package:flutter_svg/flutter_svg.dart';
import 'package:music_player/screens/create/infor/infor_screen.dart';

class AnimatedSvgRect extends StatefulWidget {
  const AnimatedSvgRect({super.key});

  @override
  State<AnimatedSvgRect> createState() => _AnimatedSvgRectState();
}

class _AnimatedSvgRectState extends State<AnimatedSvgRect>
    with SingleTickerProviderStateMixin {
  late AnimationController _controller;
  late Animation<double> _rectY;

  @override
  void initState() {
    super.initState();
    _controller = AnimationController(
      duration: const Duration(seconds: 5),
      vsync: this,
    );
    _rectY = Tween<double>(
      begin: 174,
      end: 0,
    ).animate(CurvedAnimation(parent: _controller, curve: Curves.easeIn));
    _controller.forward();

    _controller.addStatusListener((status) {
      if (status == AnimationStatus.completed) {
        Navigator.of(
          context,
        ).pushReplacement(MaterialPageRoute(builder: (_) => InforScreen()));
      }
    });
  }

  @override
  void dispose() {
    _controller.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return AnimatedBuilder(
      animation: _rectY,
      builder: (context, child) {
        final svgString = '''
<svg width="142" height="174" viewBox="0 0 142 174" fill="none">
<mask id="mask0_0_1" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="142" height="174">
<rect x="0" y="${_rectY.value}" width="142" height="174" fill="#DADADA"/>
</mask>
<g mask="url(#mask0_0_1)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M99.4428 0.883953C94.5105 1.98474 87.3261 5.85408 83.832 9.29229C81.1632 11.918 81.1209 12.0251 81.5513 15.0322C82.0766 18.7032 84.4312 25.0771 87.0423 29.8954C94.9353 44.4595 108.996 56.5369 123.05 60.824C128.652 62.5325 130.151 62.2066 133.6 58.5318C139.264 52.4947 142.499 42.8695 141.937 33.722C140.558 11.2872 120.899 -3.90441 99.4428 0.883953ZM76.5023 19.8206C76.1639 20.2753 75.2312 22.2262 74.4296 24.1555C72.2891 29.308 72.2717 39.7559 74.3929 46.3932C78.4949 59.2289 88.5134 67.981 102.002 70.5123C106.596 71.3746 108.303 71.4256 112.126 70.8152C117.014 70.0346 123.039 67.7329 122.725 66.7648C122.621 66.4453 119.938 65.0396 116.763 63.6423C105.082 58.4999 94.4758 49.8531 87.6527 39.9084C84.2257 34.914 78.1677 23.1874 78.1497 21.5119C78.1441 21.0368 77.91 20.2753 77.6287 19.8206C77.2102 19.1426 77.0071 19.1426 76.5023 19.8206ZM63.4107 47.2746C61.0704 50.1681 56.1071 56.4106 52.3808 61.146C48.6544 65.8815 41.8923 74.3944 37.3543 80.0642C31.8918 86.8889 29.11 90.8756 29.1224 91.8629C29.1665 95.3814 36.0733 105.516 41.2123 109.603C44.8852 112.524 51.1233 115.994 52.7006 115.994C53.3147 115.994 58.6648 111.9 64.5906 106.895C70.5163 101.891 80.2547 93.7194 86.2314 88.7372C92.208 83.7543 98.0649 78.839 99.2459 77.8128L101.394 75.9486L97.3831 74.6642C87.043 71.3522 79.8896 66.1041 74.6133 57.9572C72.4257 54.5789 69.796 48.5425 68.8484 44.7235C68.4783 43.2324 68.0611 42.013 67.9201 42.013C67.7798 42.013 65.7505 44.381 63.4107 47.2746ZM71.5949 72.3523C72.1314 72.9039 72.5704 73.5551 72.5704 73.8C72.5704 74.0449 69.9134 76.9633 66.6658 80.2848C61.6634 85.4016 60.596 86.2174 59.6801 85.6249C57.5129 84.2231 58.1718 82.8716 63.8373 77.0966C66.9378 73.9358 69.7321 71.3503 70.0469 71.3503C70.3617 71.3503 71.0578 71.8012 71.5949 72.3523ZM20.4104 101.41C18.532 103.887 16.5543 106.387 16.0159 106.967C13.7675 109.39 8.07456 117.101 7.13816 118.992C5.7435 121.811 5.89067 124.779 7.57407 127.793L8.99916 130.344L6.08254 133.852C-0.73241 142.047 -1.80542 148.665 2.78653 154.175C7.64672 160.007 17.1802 161.749 26.415 158.492C31.2113 156.8 40.3492 152.382 43.5837 150.191C51.2786 144.976 58.4555 142.78 67.8003 142.78C75.456 142.78 80.7974 144.048 87.1628 147.377C94.8694 151.406 100.349 157.137 107.616 168.764C110.8 173.859 112.59 174.909 115.373 173.312C118.019 171.794 117.821 168.81 114.722 163.508C106.15 148.846 96.9149 140.754 83.2098 135.897C78.8116 134.338 77.7069 134.217 67.9133 134.22C58.0941 134.223 57.0106 134.343 52.3895 135.943C49.6573 136.889 43.3701 139.96 38.418 142.768C28.8796 148.178 21.6536 151.071 17.6863 151.071C14.4778 151.071 10.7341 149.872 9.4717 148.439C8.58623 147.434 8.55704 146.997 9.25499 145.189C10.1945 142.754 13.9742 137.727 15.2391 137.229C15.7185 137.04 16.6238 137.363 17.2516 137.947C18.8096 139.395 22.3174 139.886 24.8862 139.016C26.9459 138.317 47.125 122.063 47.5286 120.777C47.6392 120.427 46.147 119.291 44.2134 118.252C37.227 114.503 29.8389 106.815 26.5591 99.8815C25.7736 98.2201 24.8372 96.8713 24.4783 96.884C24.1194 96.8961 22.2888 98.9332 20.4104 101.41Z" fill="#4B4B4B"/>
</g>
<path d="M24.3643 98.9727C24.6302 99.398 24.9241 99.9324 25.2031 100.522V100.523C28.5182 107.531 35.7729 115.184 42.8223 119.197L43.5039 119.574C44.297 120 44.9904 120.436 45.502 120.803C45.497 120.807 45.4923 120.813 45.4873 120.817C44.9194 121.361 44.1114 122.086 43.1279 122.938C41.1653 124.637 38.5556 126.799 35.8877 128.948C33.2199 131.097 30.5059 133.224 28.3359 134.853C27.2496 135.668 26.3101 136.35 25.5859 136.847C25.2232 137.095 24.9269 137.289 24.7002 137.426C24.4404 137.583 24.3634 137.609 24.4043 137.595C23.3765 137.943 22.098 138.033 20.8975 137.865C19.6673 137.693 18.7403 137.284 18.2725 136.849V136.848C17.8074 136.415 17.2473 136.083 16.6934 135.886C16.203 135.711 15.433 135.541 14.6914 135.832L14.6885 135.833C14.3003 135.986 13.9536 136.246 13.6934 136.465C13.408 136.704 13.1088 136.996 12.8115 137.311C12.2154 137.942 11.5585 138.739 10.9258 139.581C9.76433 141.126 8.56347 142.981 7.9668 144.376L7.85547 144.648C7.52431 145.506 7.21626 146.372 7.27246 147.215C7.33826 148.2 7.86328 148.883 8.3457 149.431C9.25179 150.459 10.8253 151.219 12.3916 151.721C14.0194 152.242 15.912 152.571 17.6865 152.571C19.9658 152.571 22.9824 151.758 26.5205 150.341C30.0983 148.908 34.353 146.798 39.1582 144.073C43.7829 141.451 49.5122 138.637 52.3516 137.554L52.8799 137.36C55.1582 136.571 56.4593 136.185 58.3672 135.974C60.3433 135.754 62.9775 135.721 67.9141 135.72C72.8373 135.718 75.4701 135.75 77.4209 135.964C79.2998 136.17 80.5484 136.545 82.709 137.311C96.0253 142.03 105.002 149.854 113.427 164.265C114.952 166.874 115.623 168.694 115.705 169.928C115.744 170.51 115.647 170.902 115.498 171.183C115.35 171.462 115.092 171.744 114.627 172.011C114.042 172.346 113.628 172.473 113.32 172.496C113.046 172.517 112.763 172.465 112.403 172.254C111.565 171.762 110.489 170.532 108.888 167.97C101.554 156.234 95.8995 150.253 87.8574 146.048C81.2636 142.6 75.6811 141.28 67.7998 141.28C58.1571 141.28 50.6867 143.566 42.7422 148.949C39.6399 151.051 30.6252 155.416 25.916 157.077C17.0584 160.201 8.2692 158.411 3.93848 153.215C1.90177 150.771 1.16584 148.171 1.6377 145.261C2.12296 142.268 3.9105 138.81 7.23633 134.811L10.1523 131.303L10.8105 130.512L10.3086 129.612L8.88379 127.062C7.50564 124.595 7.34687 122.291 8.28125 120.095L8.48242 119.657C8.87929 118.856 10.4449 116.571 12.292 114.069C14.1124 111.604 16.0529 109.131 17.1143 107.987L17.1152 107.988C17.7158 107.342 19.7433 104.772 21.6055 102.316C22.5256 101.103 23.4264 100.008 24.1299 99.2256C24.211 99.1353 24.2906 99.0523 24.3643 98.9727ZM67.3926 45.085C68.3811 49.0689 71.0787 55.2581 73.3545 58.7725C78.8415 67.2448 86.2974 72.6885 96.9258 76.0928L98.3955 76.5635L98.2627 76.6797L98.2617 76.6807C97.0946 77.6947 91.253 82.5972 85.2705 87.585C79.2914 92.5692 69.5512 100.742 63.623 105.749C60.6739 108.24 57.8737 110.499 55.7422 112.13C54.674 112.947 53.7881 113.596 53.1416 114.035C52.8718 114.218 52.6577 114.352 52.5 114.445C52.4561 114.434 52.4034 114.424 52.3438 114.405C52.0843 114.326 51.7505 114.201 51.3486 114.028C50.5464 113.684 49.5517 113.184 48.4717 112.583C46.3076 111.379 43.9019 109.826 42.1455 108.429C39.7416 106.517 36.8286 103.097 34.4961 99.6748C33.3375 97.9748 32.35 96.3147 31.6562 94.8887C30.9744 93.4871 30.6689 92.49 30.6289 91.9434C30.6331 91.9318 30.6376 91.9183 30.6436 91.9033C30.6959 91.7707 30.7915 91.5703 30.9463 91.292C31.2548 90.7373 31.7387 89.9801 32.415 89.0107C33.7636 87.0779 35.8013 84.4054 38.5254 81.002C43.0653 75.3297 49.8302 66.8125 53.5596 62.0732C56.3529 58.5234 59.8406 54.128 62.3945 50.9346L64.5771 48.2178C65.606 46.9454 66.5721 45.779 67.3389 44.876C67.3565 44.9448 67.3751 45.0144 67.3926 45.085ZM70.0469 69.8506C69.6367 69.8506 69.3255 70.0197 69.2764 70.0449C69.1585 70.1052 69.0518 70.1731 68.9707 70.2285C68.8039 70.3424 68.6173 70.4888 68.4268 70.6455C68.0393 70.9643 67.539 71.4089 66.9678 71.9375C65.8204 72.9992 64.3291 74.453 62.7666 76.0459C61.3452 77.4948 60.2129 78.6914 59.3545 79.6914C58.5098 80.6755 57.8605 81.5481 57.4727 82.3438C57.0762 83.1573 56.8593 84.0889 57.2129 85.0371C57.5411 85.9169 58.2497 86.4866 58.8652 86.8848C59.4003 87.2308 60.0547 87.3966 60.8018 87.2188C61.4232 87.0708 62.0038 86.706 62.5518 86.2871C63.6626 85.4379 65.2616 83.8663 67.7383 81.333C69.3709 79.6632 70.8602 78.0902 71.9453 76.8984C72.486 76.3046 72.9363 75.7939 73.2568 75.4092C73.4146 75.2197 73.5573 75.041 73.667 74.8887C73.7197 74.8155 73.7853 74.721 73.8438 74.6182C73.8725 74.5675 73.9156 74.4873 73.9551 74.3887C73.9825 74.3202 74.0703 74.0961 74.0703 73.7998C74.0703 73.3848 73.9136 73.0419 73.8477 72.9033C73.7561 72.7109 73.6418 72.5223 73.5273 72.3525C73.2966 72.0102 72.995 71.6409 72.6699 71.3066L72.6689 71.3057L72.4023 71.0469C72.1284 70.7958 71.8356 70.5689 71.5527 70.3857C71.3643 70.2638 71.156 70.1448 70.9404 70.0518C70.7798 69.9825 70.5097 69.88 70.1875 69.8555L70.0469 69.8506ZM76.8125 22.4658C76.8733 22.6809 76.9417 22.891 77.0088 23.0801C77.2005 23.6205 77.4687 24.2738 77.7881 24.9971C78.4286 26.4475 79.3093 28.2559 80.29 30.1543C82.2452 33.9391 84.6501 38.1833 86.416 40.7568C93.4063 50.9454 104.237 59.7677 116.158 65.0156H116.159C117.699 65.6932 119.111 66.3687 120.15 66.9111C119.773 67.0848 119.334 67.2704 118.841 67.459C116.85 68.2197 114.222 68.9615 111.89 69.334C110.019 69.6326 108.742 69.757 107.398 69.7168C106.041 69.6762 104.559 69.4661 102.279 69.0381C89.3197 66.6061 79.7516 58.235 75.8213 45.9365C74.8211 42.8067 74.3069 38.6985 74.3135 34.7197C74.3201 30.7171 74.8539 27.0442 75.8145 24.7314C76.1425 23.9419 76.4936 23.1494 76.8125 22.4658ZM99.7695 2.34766C120.286 -2.231 139.114 12.2605 140.439 33.8145C140.979 42.5981 137.856 51.8031 132.506 57.5049C130.794 59.3287 129.831 60.0094 128.813 60.2305C127.736 60.4645 126.314 60.2515 123.488 59.3896C109.86 55.2326 96.0926 43.4463 88.3613 29.1807C85.7983 24.451 83.5273 18.2517 83.0361 14.8193C82.8022 13.1847 82.8118 12.8552 82.9238 12.5732C82.979 12.4343 83.0973 12.2294 83.4189 11.8613C83.7467 11.4863 84.205 11.0291 84.8838 10.3613C86.4931 8.77771 89.03 7.02932 91.8096 5.53223C94.5869 4.03635 97.4828 2.85801 99.7695 2.34766Z" stroke="#969696" stroke-width="3"/>
</svg>
''';
        return SvgPicture.string(
          svgString,
          width: 142,
          height: 174,
          fit: BoxFit.cover,
        );
      },
    );
  }
}
